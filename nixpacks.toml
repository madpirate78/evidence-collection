# Force Nixpacks to use Node.js provider, not Deno
providers = ["node"]

[variables]
NIXPACKS_PATH = "/app/node_modules/.bin"

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build", "cp -r public .next/standalone/", "cp -r .next/static .next/standalone/.next/"]

[start]
cmd = "PORT=${PORT:-3000} HOSTNAME=0.0.0.0 node .next/standalone/server.js"
